import App from '../framework.js';
import assert from 'assert';

describe('Router', function(){
  describe('#route', function(){
    it('should create route /test and return a response of "worked"', function(){
		var expected = "worked";

		App.Router.route({
			method:'GET',
			path:'/test',
			handler:function(request, reply) {
				reply('worked');
			}

		});

		App.Server.inject('/test', function (res) {
    		assert.equal(expected, res.result);
		});
    })
  })

  describe('#loadRoute', function(){
    it('should load the route file and respond to /load with "worked"', function(){
		var expected = "worked";

		App.Router.loadRoute('./test/mock/routes/load.route.js');

		App.Server.inject('/load', function (res) {
    		assert.equal(expected, res.result);
		});
    })
  })
})
